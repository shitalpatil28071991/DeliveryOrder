from sqlalchemy import Column, Integer, String, Numeric, Date, Boolean, ForeignKey
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import relationship
from app import db

Base = declarative_base()

class AccountMaster(db.Model):
    __tablename__ = 'nt_1_accountmaster'
    Ac_Code = Column(Integer, nullable=True)
    Ac_Name_E = Column(String(255), nullable=True)
    Ac_Name_R = Column(String(255), nullable=True)
    Ac_type = Column(String(5), nullable=True)
    Ac_rate = Column(Numeric(18, 2), nullable=True)
    Address_E = Column(String(255), nullable=True)
    Address_R = Column(String(255), nullable=True)
    City_Code = Column(Integer, nullable=True)
    Pincode = Column(String(10), nullable=True)
    Local_Lic_No = Column(String(255), nullable=True)
    Tin_No = Column(String(255), nullable=True)
    Cst_no = Column(String(255), nullable=True)
    Gst_No = Column(String(255), nullable=True)
    Email_Id = Column(String(255), nullable=True)
    Email_Id_cc = Column(String(255), nullable=True)
    Other_Narration = Column(String(1000), nullable=True)
    ECC_No = Column(String(255), nullable=True)
    Bank_Name = Column(String(255), nullable=True)
    Bank_Ac_No = Column(String(255), nullable=True)
    Bank_Opening = Column(Numeric(18, 2), nullable=True)
    bank_Op_Drcr = Column(String(1), nullable=True)
    Opening_Balance = Column(Numeric(18, 2), nullable=True)
    Drcr = Column(String(1), nullable=True)
    Group_Code = Column(Integer, nullable=True)
    Created_By = Column(String(255), nullable=True)
    Modified_By = Column(String(255), nullable=True)
    Short_Name = Column(String(50), nullable=True)
    Commission = Column(Numeric(18, 2), nullable=True)
    carporate_party = Column(String(1), nullable=True)
    referBy = Column(String(100), nullable=True)
    OffPhone = Column(String(500), nullable=True)
    Fax = Column(String(500), nullable=True)
    CompanyPan = Column(String(500), nullable=True)
    AC_Pan = Column(String, nullable=True)
    Mobile_No = Column(String(50), nullable=True)
    Is_Login = Column(String(1), nullable=True)
    IFSC = Column(String(50), nullable=True)
    FSSAI = Column(String(50), nullable=True)
    Branch1OB = Column(Numeric(18, 2), nullable=True)
    Branch2OB = Column(Numeric(18, 2), nullable=True)
    Branch1Drcr = Column(String(1), nullable=True)
    Branch2Drcr = Column(String(1), nullable=True)
    Locked = Column(Boolean, nullable=True)
    GSTStateCode = Column(Integer, nullable=True)
    UnregisterGST = Column(Boolean, nullable=True)
    Distance = Column(Numeric(18, 2), nullable=True)
    Bal_Limit = Column(Numeric(18, 2), nullable=True)
    accoid = Column(Integer, nullable=False, primary_key=True)
    bsid = Column(Integer, nullable=True)
    cityid = Column(Integer, nullable=True)
    whatsup_no = Column(String(45), nullable=True)
    company_code = Column(Integer, nullable=True)
    adhar_no = Column(String(20), nullable=True)
    Limit_By = Column(String(2), nullable=True)
    Tan_no = Column(String(100), nullable=True)
    TDSApplicable = Column(String(1), nullable=True)
    PanLink = Column(String(500), nullable=True)
    Insurance = Column(Numeric(18, 2), nullable=True)
    MsOms = Column(String(1), nullable=True)
    loadingbyus = Column(String(1), nullable=True)
    payBankAc = Column(String(50), nullable=True)
    payIfsc = Column(String(50), nullable=True)
    PayBankName = Column(String(50), nullable=True)
    FrieghtOrMill = Column(String(2), nullable=True)
    BeneficiaryName = Column(String(50), nullable=True)
    payBankAc2 = Column(String(50), nullable=True)
    payIfsc2 = Column(String(50), nullable=True)
    PayBankName2 = Column(String(50), nullable=True)
    BeneficiaryName2 = Column(String(50), nullable=True)
    payBankAc3 = Column(String(50), nullable=True)
    payIfsc3 = Column(String(50), nullable=True)
    PayBankName3 = Column(String(50), nullable=True)
    BeneficiaryName3 = Column(String(50), nullable=True)
    SelectedBank = Column(String(2), nullable=True)
    VerifyAcNo = Column(String(50), nullable=True)
    VerifyAcNo2 = Column(String(50), nullable=True)
    VerifyAcNo3 = Column(String(50), nullable=True)
    TransporterId = Column(String(50), nullable=True)

    contacts = relationship('AccountContact', backref='accountmaster', lazy=True)

class AccountContact(db.Model):
    __tablename__ = 'nt_1_accontacts'
    id = Column(Integer, nullable=False, primary_key=True)
    PersonId = Column(Integer,nullable=False)
    Company_Code = Column(Integer, nullable=False)
    Ac_Code = Column(Integer, nullable=False)
    Person_Name = Column(String(100), nullable=True)
    Person_Mobile = Column(String(50), nullable=True)
    Person_Email = Column(String(50), nullable=True)
    Person_Pan = Column(String(50), nullable=True)
    Other = Column(String(50), nullable=True)
    accoid = Column(Integer, ForeignKey('nt_1_accountmaster.accoid'),nullable=False)
