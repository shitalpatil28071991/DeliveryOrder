from sqlalchemy import Column, Integer, String, Text, Date, Boolean, ForeignKey, Numeric
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import relationship
from app import db 

Base = declarative_base()

class DeliveryOrderHead(db.Model):
    __tablename__ = 'nt_1_deliveryorder'
    tran_type = db.Column(db.String(2),nullable=True)
    doc_no = db.Column(db.Integer,nullable=False)
    desp_type = db.Column(db.String(2),nullable=True)
    doc_date = db.Column(db.Date,nullable=True)
    mill_code = db.Column(db.Integer,nullable=True)
    grade = db.Column(db.String(50),nullable=True)
    quantal = db.Column(db.Numeric(18,2),nullable=True)
    packing = db.Column(db.Integer,nullable=True)
    bags = db.Column(db.Integer,nullable=True)
    mill_rate = db.Column(db.Numeric(18,2),nullable=True)
    sale_rate = db.Column(db.Numeric(18,2),nullable=True)
    Tender_Commission = db.Column(db.Numeric(18,2),nullable=True)
    diff_rate = db.Column(db.Numeric(18,2),nullable=True)
    diff_amount = db.Column(db.Numeric(18,2),nullable=True)
    amount = db.Column(db.Numeric(18,2),nullable=True)
    DO = db.Column(db.Integer,nullable=True)
    voucher_by = db.Column(db.Integer,nullable=True)
    broker = db.Column(db.Integer,nullable=True)
    company_code = db.Column(db.Integer,nullable=True)
    Year_Code = db.Column(db.Integer,nullable=True)
    Branch_Code = db.Column(db.Integer,nullable=True)
    purc_no = db.Column(db.Integer,nullable=True)
    purc = db.Column(db.String(10),nullable=True)
    purc_order = db.Column(db.Integer,nullable=True)
    purc_type = db.Column(db.String(50),nullable=True)
    truck_no = db.Column(db.String(20),nullable=True)
    transport = db.Column(db.Integer,nullable=True)
    less = db.Column(db.Numeric(18,2),nullable=True)
    less_amount = db.Column(db.Numeric(18,2),nullable=True)
    final_amout = db.Column(db.Numeric(18,2),nullable=True)
    vasuli = db.Column(db.Numeric(18,2),nullable=True)
    narration1 = db.Column(db.String(500),nullable=True)
    narration2 = db.Column(db.String(500),nullable=True)
    narration3 = db.Column(db.String(255),nullable=True)
    narration4 = db.Column(db.String(500),nullable=True)
    narration5 = db.Column(db.String(500),nullable=True)
    excise_rate = db.Column(db.Numeric(18,2),nullable=True)
    memo_no = db.Column(db.Integer,nullable=True)
    freight = db.Column(db.Numeric(18,2),nullable=True)
    adv_freight1 = db.Column(db.Numeric(18,2),nullable=True)
    driver_no = db.Column(db.String(255),nullable=True)
    driver_Name = db.Column(db.String(255),nullable=True)
    voucher_no = db.Column(db.Integer,nullable=True)
    voucher_type = db.Column(db.String(2),nullable=True)
    GETPASSCODE = db.Column(db.Integer,nullable=True)
    tender_Remark = db.Column(db.String(255),nullable=True)
    vasuli_rate = db.Column(db.Numeric(18,2),nullable=True)
    vasuli_amount = db.Column(db.Numeric(18,2),nullable=True)
    to_vasuli = db.Column(db.Integer,nullable=True)
    naka_delivery = db.Column(db.String(1), nullable=True )
    send_sms = db.Column(db.String(1), nullable=True )
    Itag = db.Column(db.String(1), nullable=True )
    Ac_Code = db.Column(db.Integer,nullable=True)
    FreightPerQtl = db.Column(db.Numeric(18,2),nullable=True)
    Freight_Amount = db.Column(db.Numeric(18,2),nullable=True)
    Freight_RateMM = db.Column(db.Numeric(18,2),nullable=True)
    Freight_AmountMM = db.Column(db.Numeric(18,2),nullable=True)
    Memo_Advance = db.Column(db.Numeric(18,2),nullable=True)
    Paid_Rate1 = db.Column(db.Numeric(18,2),nullable=True)
    Paid_Amount1 = db.Column(db.Numeric(18,2),nullable=True)
    Paid_Narration1 = db.Column(db.String(50),nullable=True)
    Paid_Rate2 = db.Column(db.Numeric(18,2),nullable=True)
    Paid_Amount2 = db.Column(db.Numeric(18,2),nullable=True)
    Paid_Narration2 = db.Column(db.String(50),nullable=True)
    Paid_Rate3 = db.Column(db.Numeric(18,2),nullable=True)
    Paid_Amount3 = db.Column(db.Numeric(18,2),nullable=True)
    Paid_Narration3 = db.Column(db.String(50),nullable=True)
    MobileNo = db.Column(db.String(50),nullable=True)
    Created_By = db.Column(db.String(255),nullable=True)
    Modified_By = db.Column(db.String(255),nullable=True)
    UTR_No = db.Column(db.Integer,nullable=True)
    UTR_Year_Code = db.Column(db.Integer,nullable=True)
    Carporate_Sale_No = db.Column(db.Integer,nullable=True)
    Carporate_Sale_Year_Code = db.Column(db.Integer,nullable=True)
    Delivery_Type = db.Column(db.String(5),nullable=True)
    WhoseFrieght = db.Column(db.String(2),nullable=True)
    SB_No = db.Column(db.Integer,nullable=True)
    Invoice_No = db.Column(db.String(50),nullable=True)
    vasuli_rate1 = db.Column(db.Numeric(18,2),nullable=True)
    vasuli_amount1 = db.Column(db.Numeric(18,2),nullable=True)
    Party_Commission_Rate = db.Column(db.Numeric(18,2),nullable=True)
    MM_CC = db.Column(db.String(6),nullable=True)
    MM_Rate = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_Brokrage = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_Service_Charge = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_RateDiffRate = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_RateDiffAmt = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_BankCommRate = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_BankCommAmt = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_Interest = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_TransportAmt = db.Column(db.Numeric(18,2),nullable=True)
    Voucher_OtherExpenses = db.Column(db.Numeric(18,2),nullable=True)
    CheckPost = db.Column(db.String(100),nullable=True)
    SaleBillTo = db.Column(db.String(15),nullable=True)
    Pan_No = db.Column(db.String(50),nullable=True)
    Vasuli_Ac = db.Column(db.Integer,nullable=True)
    LoadingSms = db.Column(db.String(1), nullable=True )
    GstRateCode = db.Column(db.Integer,nullable=True)
    GetpassGstStateCode = db.Column(db.Integer,nullable=True)
    VoucherbyGstStateCode = db.Column(db.Integer,nullable=True)
    SalebilltoGstStateCode = db.Column(db.Integer,nullable=True)
    GstAmtOnMR = db.Column(db.Numeric(18,2),nullable=True)
    GstAmtOnSR = db.Column(db.Numeric(18,2),nullable=True)
    GstExlSR = db.Column(db.Numeric(18,2),nullable=True)
    GstExlMR = db.Column(db.Numeric(18,2),nullable=True)
    MillGSTStateCode = db.Column(db.Integer,nullable=True)
    TransportGSTStateCode = db.Column(db.Integer,nullable=True)
    EWay_Bill_No = db.Column(db.String(50),nullable=True)
    Distance = db.Column(db.Numeric(18,2),nullable=True)
    EWayBillChk = db.Column(db.String(1), nullable=True )
    MillInvoiceNo = db.Column(db.String(500),nullable=True)
    Purchase_Date = db.Column(db.Date,nullable=True)
    doid = db.Column(db.Integer,nullable=False,primary_key=True)
    mc = db.Column(db.Integer,nullable=True)
    gp = db.Column(db.Integer,nullable=True)
    st = db.Column(db.Integer,nullable=True)
    sb = db.Column(db.Integer,nullable=True)
    tc = db.Column(db.Integer,nullable=True)
    itemcode = db.Column(db.Integer,nullable=True)
    cs = db.Column(db.Integer,nullable=True)
    ic = db.Column(db.Integer,nullable=True)
    tenderdetailid = db.Column(db.Integer,nullable=True)
    bk = db.Column(db.Integer,nullable=True)
    docd = db.Column(db.Integer,nullable=True)
    vb = db.Column(db.Integer,nullable=True)
    va = db.Column(db.Integer,nullable=True)
    carporate_ac = db.Column(db.Integer,nullable=True)
    ca = db.Column(db.Integer,nullable=True)
    mill_inv_date = db.Column(db.Date,nullable=True)
    mill_rcv = db.Column(db.String(1), nullable=True )
    saleid = db.Column(db.Integer,nullable=True)
    MillEwayBill = db.Column(db.String(250),nullable=True)
    TCS_Rate = db.Column(db.Numeric(18,3),nullable=True)
    Sale_TCS_Rate = db.Column(db.Numeric(18,3),nullable=True)
    Mill_AmtWO_TCS = db.Column(db.Numeric(18,2),nullable=True)
    doidnew = db.Column(db.Integer,nullable=False)
    newsbno = db.Column(db.Numeric(18,0),nullable=True)
    newsbdate = db.Column(db.Date,nullable=True)
    einvoiceno = db.Column(db.String(500),nullable=True)
    ackno = db.Column(db.String(500),nullable=True)
    commisionid = db.Column(db.Integer,nullable=True)
    brandcode = db.Column(db.Integer,nullable=True)
    Cash_diff = db.Column(db.Numeric(18,2),nullable=True)
    CashDiffAc = db.Column(db.Integer,nullable=True)
    TDSAc = db.Column(db.Integer,nullable=True)
    CashDiffAcId = db.Column(db.Integer,nullable=True)
    TDSAcId = db.Column(db.Integer,nullable=True)
    TDSRate = db.Column(db.Numeric(18,2),nullable=True)
    TDSAmt = db.Column(db.Numeric(18,2),nullable=True)
    TDSCut = db.Column(db.String(1), nullable=True )
    tenderid = db.Column(db.Integer,nullable=True)
    MemoGSTRate = db.Column(db.Integer,nullable=True)
    RCMCGSTAmt = db.Column(db.Numeric(18,2),nullable=True)
    RCMSGSTAmt = db.Column(db.Numeric(18,2),nullable=True)
    RCMIGSTAmt = db.Column(db.Numeric(18,2),nullable=True)
    RCMNumber = db.Column(db.Numeric(18,0),nullable=True)
    EwayBillValidDate = db.Column(db.Date,nullable=True)
    SaleTDSRate = db.Column(db.Numeric(18,3),nullable=True)
    PurchaseTDSRate = db.Column(db.Numeric(18,3),nullable=True)
    PurchaseRate = db.Column(db.Numeric(18,2),nullable=True)
    SBNarration = db.Column(db.String(500),nullable=True)
    MailSend = db.Column(db.String(1), nullable=True )
    ISEInvoice = db.Column(db.String(1), nullable=True )
    IsPayment = db.Column(db.String(1), nullable=True )
    Do_DATE = db.Column(db.Date,nullable=True)
    Insured = db.Column(db.String(1), nullable=True )
    vehicle_reached = db.Column(db.String(1), nullable=True )
    reached_date = db.Column(db.Date,nullable=True)
    Insurance = db.Column(db.Numeric(18,2),nullable=True)
    ic1 = db.Column(db.Integer,nullable=True)
    grade1 = db.Column(db.String(50),nullable=True)
    quantal1 = db.Column(db.Numeric(18,2),nullable=True)
    packing1 = db.Column(db.Integer,nullable=True)
    bags1 = db.Column(db.Integer,nullable=True)
    mill_rate1 = db.Column(db.Numeric(18,2),nullable=True)
    sale_rate1 = db.Column(db.Numeric(18,2),nullable=True)
    purc_no1 = db.Column(db.Integer,nullable=True)
    purc_order1 = db.Column(db.Integer,nullable=True)
    itemcode1 = db.Column(db.Integer,nullable=True)
    PurchaseRate1 = db.Column(db.Numeric(18,2),nullable=True)
    mill_amount1 = db.Column(db.Numeric(18,2),nullable=True)
    mill_amountTCS1 = db.Column(db.Numeric(18,2),nullable=True)
    tenderdetailid1 = db.Column(db.Integer,nullable=True)
    GT_Remark = db.Column(db.String(100),nullable=True)
    SB_Other_Amount = db.Column(db.Numeric(18,2),nullable=True)
    LockRecord = db.Column(db.String(1), nullable=True )
    LockedUser = db.Column(db.String(50),nullable=True)
    gstid = db.Column(db.Integer,nullable=True)
    purchaseid = db.Column(db.Integer,nullable=True)
    

    details = db.relationship('DeliveryOrderDetail', backref='Doid', lazy=True)


class DeliveryOrderDetail(db.Model):
    __tablename__ = 'nt_1_dodetails'
    
    doc_no = db.Column(db.Integer,nullable=True)
    detail_Id = db.Column(db.Integer,nullable=True)
    ddType = db.Column(db.String(1), nullable=True )
    Bank_Code = db.Column(db.Integer,nullable=True)
    Narration = db.Column(db.String(50),nullable=True)
    Amount = db.Column(db.Numeric(18,2),nullable=True)
    Company_Code = db.Column(db.Integer,nullable=True)
    Year_Code = db.Column(db.Integer,nullable=True)
    Branch_Code = db.Column(db.Integer,nullable=True)
    UTR_NO = db.Column(db.Integer,nullable=True)
    DO_No = db.Column(db.Integer,nullable=True)
    UtrYearCode = db.Column(db.Integer,nullable=True)
    LTNo = db.Column(db.Integer,nullable=True)
    doid = db.Column(db.Integer,nullable=True)
    dodetailid = db.Column(db.Integer,nullable=False,primary_key=True)
    bc = db.Column(db.Integer,nullable=True)
    utrdetailid = db.Column(db.Integer,nullable=True)
    UtrCompanyCode = db.Column(db.Integer,nullable=True)

    doid= Column(Integer,ForeignKey('nt_1_deliveryorder.doid'))